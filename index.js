(()=>{function e(e,t,n,a,r,u,i){try{var s=e[u](i),o=s.value}catch(e){return void n(e)}s.done?t(o):Promise.resolve(o).then(a,r)}function t(t){return function(){var n=this,a=arguments;return new Promise((function(r,u){var i=t.apply(n,a);function s(t){e(i,r,u,s,o,"next",t)}function o(t){e(i,r,u,s,o,"throw",t)}s(void 0)}))}}var n={YFKA_XAMP:"0xaea4d6809375bb973c8036d53db9e90970942738",YFKA_TOB:"0x34d0448A79F853d6E1f7ac117368C87BB7bEeA6B",YFKA_BOA:"0x5ecF87ff558f73D097EDdfEE35abDE626c7Aeab7",YFKA_ETH:"0xc0cfb99342860725806f085046d0233fec876cd7"},a=[n.YFKA_XAMP,n.YFKA_TOB,n.YFKA_BOA,n.YFKA_ETH],r={XAMP:0,TOB:1,BOA:2,ETH:3},u="0x615983a35CF71D89F1B094e920151d7eA9Bf48bc",i=[{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1",type:"uint256"},{indexed:!0,internalType:"address",name:"to",type:"address"}],name:"Burn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1",type:"uint256"}],name:"Mint",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount0In",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1In",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount0Out",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1Out",type:"uint256"},{indexed:!0,internalType:"address",name:"to",type:"address"}],name:"Swap",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint112",name:"reserve0",type:"uint112"},{indexed:!1,internalType:"uint112",name:"reserve1",type:"uint112"}],name:"Sync",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{constant:!0,inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"MINIMUM_LIQUIDITY",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"PERMIT_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"to",type:"address"}],name:"burn",outputs:[{internalType:"uint256",name:"amount0",type:"uint256"},{internalType:"uint256",name:"amount1",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"factory",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getReserves",outputs:[{internalType:"uint112",name:"_reserve0",type:"uint112"},{internalType:"uint112",name:"_reserve1",type:"uint112"},{internalType:"uint32",name:"_blockTimestampLast",type:"uint32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"_token0",type:"address"},{internalType:"address",name:"_token1",type:"address"}],name:"initialize",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"kLast",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"to",type:"address"}],name:"mint",outputs:[{internalType:"uint256",name:"liquidity",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"price0CumulativeLast",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"price1CumulativeLast",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"to",type:"address"}],name:"skim",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"amount0Out",type:"uint256"},{internalType:"uint256",name:"amount1Out",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes",name:"data",type:"bytes"}],name:"swap",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"sync",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"token0",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"token1",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],s=JSON.parse(JSON.stringify([{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,type:"function"}])),o=[{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"previousPool",type:"uint256"},{indexed:!0,internalType:"uint256",name:"newPool",type:"uint256"}],name:"BonusPoolChange",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"previousRate",type:"uint256"},{indexed:!0,internalType:"uint256",name:"newRate",type:"uint256"}],name:"EmissionRateCut",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"_getBlocksSinceLastReduction",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"_getNextRateReduction",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"_getTotalNextRateReduction",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"_owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"addWhitelist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"blocks_per_year",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decayDivisor",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decayPercent",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"emissionRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getActivePool",outputs:[{internalType:"uint8",name:"idx",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint8",name:"idx",type:"uint8"}],name:"getCurrentReward",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint8",name:"idx",type:"uint8"}],name:"getCurrentRewardPerYear",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint8",name:"idx",type:"uint8"}],name:"getLastBlockWithdrawn",outputs:[{internalType:"uint256",name:"reward",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint8",name:"idx",type:"uint8"},{internalType:"address",name:"_addr",type:"address"}],name:"getPersonalEmissionRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"lastBlockUpdated",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint8",name:"",type:"uint8"},{internalType:"address",name:"",type:"address"}],name:"lastBlockWithdrawn",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"minimum_stake",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"multiplier",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint8",name:"",type:"uint8"},{internalType:"address",name:"",type:"address"}],name:"personalEmissions",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint8",name:"idx",type:"uint8"}],name:"personalYFKAStaked",outputs:[{internalType:"uint256",name:"points",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"pools",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint8",name:"idx",type:"uint8"}],name:"redeem",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"setOpen",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint8",name:"idx",type:"uint8"},{internalType:"address",name:"_addr",type:"address"}],name:"setPool",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_addr",type:"address"}],name:"setYFKA",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint8",name:"idx",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"stake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint8",name:"",type:"uint8"},{internalType:"address",name:"",type:"address"}],name:"stakes",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint8",name:"idx",type:"uint8"}],name:"totalYFKAStaked",outputs:[{internalType:"uint256",name:"points",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_addr",type:"address"}],name:"transferOwnershipOfYFKA",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint8",name:"idx",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"unstake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"yfka",outputs:[{internalType:"contract IYFKA",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint8",name:"idx",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"yfkaPerLP",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}];function p(e,t){var n=e.code;e.message,4001!=n&&-32002!=n||$("#isConnected").html("Wallet NOT Connected")}var c=function(){return web3.isConnected()},l=function(){var e=new Web3.providers.HttpProvider("https://mainnet.infura.io/v3/91298a4448d34edf884df8b28db5f9ea");return new Web3(e)},y=function(e){return l().utils.toChecksumAddress(e)},m=function(){return new(l().eth.Contract)(o,y(u))},d=function(){var e=t(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ethereum.request({method:"eth_requestAccounts"});case 2:return t=e.sent,n=l(),e.abrupt("return",n.utils.toChecksumAddress(t[0]));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=t(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m(),e.next=4,t.methods.getActivePool().call();case 4:return n=e.sent,e.abrupt("return",a[n]);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=t(regeneratorRuntime.mark((function e(){var t,n,a,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m(),e.next=4,t.methods.emissionRate().call();case 4:return n=e.sent,a=n/Math.pow(10,18)/2*100,r=T(a),e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(e){return r[e]};function T(e){var t=Math.floor(100*(e+Number.EPSILON))/100;return _.toNumber(t)}function w(e){var t=Math.floor(1e4*(e+Number.EPSILON))/1e4;return _.toNumber(t)}function x(e){var t=Math.floor(1e6*(e+Number.EPSILON))/1e6;return _.toNumber(t)}function v(e){return e<=0?"<0.00":e}function M(){return k.apply(this,arguments)}function k(){return(k=t(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c()){e.next=8;break}$("#isConnected").html("Wallet NOT Connected"),window.web3.currentProvider.enable().catch((function(e){p(e)})),setTimeout((function(){M()}),3e3),e.next=23;break;case 8:return e.next=10,R().catch((function(e){p(e)}));case 10:if("error"==e.sent){e.next=15;break}return e.next=14,B().catch((function(e){p(e)}));case 14:t=e.sent;case 15:if("error"==t){e.next=23;break}return e.next=18,E({currentTarget:{value:"XAMP"}}).catch((function(e){p(e)}));case 18:return e.next=20,I({currentTarget:{value:"XAMP"}}).catch((function(e){p(e)}));case 20:return e.next=22,N({currentTarget:{value:"XAMP"}}).catch((function(e){p(e)}));case 22:$("#isConnected").html("wallet connected");case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g=function(){var e=t(regeneratorRuntime.mark((function e(){var t,a,r,u,s,o,p,c,y,m,d,b,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,l();case 3:return t=e.sent,a=new t.eth.Contract(i,n.YFKA_XAMP),e.next=7,a.methods.totalSupply().call();case 7:return r=e.sent,e.next=11,a.methods.decimals().call();case 11:return u=e.sent,s=new t.eth.Contract(i,n.YFKA_TOB),e.next=16,s.methods.totalSupply().call();case 16:return o=e.sent,e.next=20,s.methods.decimals().call();case 20:return p=e.sent,c=new t.eth.Contract(i,n.YFKA_BOA),e.next=25,c.methods.totalSupply().call();case 25:return y=e.sent,e.next=29,c.methods.decimals().call();case 29:return m=e.sent,d=new t.eth.Contract(i,n.YFKA_ETH),e.next=34,d.methods.totalSupply().call();case 34:return b=e.sent,e.next=38,d.methods.decimals().call();case 38:return f=e.sent,e.abrupt("return",{XAMP:r?r/Math.pow(10,u):0,TOB:s?o/Math.pow(10,p):0,BOA:y?y/Math.pow(10,m):0,ETH:b?b/Math.pow(10,f):0});case 41:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=t(regeneratorRuntime.mark((function e(){var t,a,r,u,i,o,p,c,y,m,b,f,h,T,w;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,d();case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",null);case 6:return a=l(),r=new a.eth.Contract(s,n.YFKA_XAMP),e.next=10,r.methods.balanceOf(t).call();case 10:return u=e.sent,e.next=14,r.methods.decimals().call();case 14:return i=e.sent,o=new a.eth.Contract(s,n.YFKA_TOB),e.next=19,o.methods.balanceOf(t).call();case 19:return p=e.sent,e.next=23,o.methods.decimals().call();case 23:return c=e.sent,y=new a.eth.Contract(s,n.YFKA_BOA),e.next=28,y.methods.balanceOf(t).call();case 28:return m=e.sent,e.next=32,y.methods.decimals().call();case 32:return b=e.sent,f=new a.eth.Contract(s,n.YFKA_ETH),e.next=37,f.methods.balanceOf(t).call();case 37:return h=e.sent,e.next=41,f.methods.decimals().call();case 41:return T=e.sent,w={XAMP:u?u/Math.pow(10,i):0,TOB:o?p/Math.pow(10,c):0,BOA:m?m/Math.pow(10,b):0,ETH:h?h/Math.pow(10,T):0},e.abrupt("return",{XAMP:_.toNumber(w.XAMP),TOB:_.toNumber(w.TOB),BOA:_.toNumber(w.BOA),ETH:_.toNumber(w.ETH)});case 45:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=t(regeneratorRuntime.mark((function e(){var t,n,a,u,i,s,o,p,c,l,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:return t=e.sent,n=m(),e.next=6,n.methods.getActivePool().call();case 6:return a=e.sent,e.next=9,n.methods.getPersonalEmissionRate(r.XAMP,t).call();case 9:return u=e.sent,(i=T(u/Math.pow(10,18)/2*100))<=0&&(i=0),a==r.XAMP&&(i*=2),e.next=15,n.methods.getPersonalEmissionRate(r.TOB,t).call();case 15:return s=e.sent,(o=T(s/Math.pow(10,18)/2*100))<=0&&(o=0),a==r.TOB&&(o*=2),e.next=25,n.methods.getPersonalEmissionRate(r.BOA,t).call();case 25:return p=e.sent,(c=T(p/Math.pow(10,18)/2*100))<=0&&(c=0),a==r.BOA&&(c*=2),e.next=31,n.methods.getPersonalEmissionRate(r.ETH,t).call();case 31:return l=e.sent,(y=T(l/Math.pow(10,18)/2*100)/2)<=0&&(y=0),a==r.ETH&&(y*=2),e.abrupt("return",{XAMP:_.toNumber(i),TOB:_.toNumber(o),BOA:_.toNumber(c),ETH:_.toNumber(y)});case 36:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=t(regeneratorRuntime.mark((function e(){var t,n,a,u,i,s,o,c,l,y,b,f,h,M,k,A,B,R,P,E,I,N,C,F,X,H,Y,K,L,S,D,W;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d().catch((function(e){return p(e),"error"}));case 2:if("error"==(t=e.sent)){e.next=126;break}return n=m(),e.next=7,n.methods.getCurrentReward(r.XAMP).call({from:t}).catch((function(e){return p(e),"error"}));case 7:if("error"==(a=e.sent)){e.next=13;break}$("#reward-XAMP").html(w(_.toInteger(a)/Math.pow(10,18))),e.next=14;break;case 13:return e.abrupt("return","error");case 14:return e.next=16,n.methods.getCurrentReward(r.TOB).call({from:t}).catch((function(e){return p(e),"error"}));case 16:if("error"==(u=e.sent)){e.next=22;break}$("#reward-TOB").html(w(_.toInteger(u)/Math.pow(10,18))),e.next=23;break;case 22:return e.abrupt("return","error");case 23:return e.next=25,n.methods.getCurrentReward(r.BOA).call({from:t}).catch((function(e){return p(e),"error"}));case 25:if("error"==(i=e.sent)){e.next=31;break}$("#reward-BOA").html(w(_.toInteger(i)/Math.pow(10,18))),e.next=32;break;case 31:return e.abrupt("return","error");case 32:return e.next=34,n.methods.getCurrentReward(r.ETH).call({from:t}).catch((function(e){return p(e),"error"}));case 34:if("error"==(s=e.sent)){e.next=41;break}$("#reward-ETH").html(_.toInteger(s)/Math.pow(10,18)),$("#reward-ETH").html(w(_.toInteger(s)/Math.pow(10,18))),e.next=42;break;case 41:return e.abrupt("return","error");case 42:return e.next=44,O().catch((function(e){return p(e),"error"}));case 44:if("error"==(o=e.sent)){e.next=52;break}$("#personal-emission-XAMP").html("".concat(o.XAMP)),$("#personal-emission-TOB").html("".concat(o.TOB)),$("#personal-emission-BOA").html("".concat(o.BOA)),$("#personal-emission-ETH").html("".concat(o.ETH)),e.next=53;break;case 52:return e.abrupt("return","error");case 53:return e.next=55,n.methods.stakes(r.XAMP,t).call().catch((function(e){return p(e),"error"}));case 55:return"error"!=(f=e.sent)&&(c=v(x(f/Math.pow(10,18))),$("#balance-LP-XAMP").html(c)),e.next=59,n.methods.stakes(r.TOB,t).call().catch((function(e){return p(e),"error"}));case 59:if("error"==(h=e.sent)){e.next=66;break}l=v(x(h/Math.pow(10,18))),$("#balance-LP-TOB").html(l),e.next=67;break;case 66:return e.abrupt("return","error");case 67:return e.next=69,n.methods.stakes(r.BOA,t).call().catch((function(e){return p(e),"error"}));case 69:if("error"==(M=e.sent)){e.next=76;break}y=v(x(M/Math.pow(10,18))),$("#balance-LP-BOA").html(y),e.next=77;break;case 76:return e.abrupt("return","error");case 77:return e.next=79,n.methods.stakes(r.ETH,t).call().catch((function(e){return p(e),"error"}));case 79:if("error"==(k=e.sent)){e.next=86;break}b=v(x(k/Math.pow(10,18))),$("#balance-LP-ETH").html(b),e.next=87;break;case 86:return e.abrupt("return","error");case 87:return e.next=89,g().catch((function(e){return p(e),"error"}));case 89:if("error"==(A=e.sent)){e.next=123;break}B=A.XAMP,R=w(f/Math.pow(10,18))/B*100,P=T(B),E=v(w(R)),$("#pool-Share-XAMP").html("".concat(E)),$("#total-LP-XAMP").html("".concat(P)),I=A.TOB,N=w(h/Math.pow(10,18))/I*100,C=T(I),F=v(w(N)),$("#pool-Share-TOB").html("".concat(F)),$("#total-LP-TOB").html("".concat(C)),X=A.BOA,H=w(M/Math.pow(10,18))/X*100,Y=T(X),K=v(w(H)),$("#pool-Share-BOA").html("".concat(K)),$("#total-LP-BOA").html("".concat(Y)),L=A.ETH,S=w(k/Math.pow(10,18))/L*100,D=T(L),W=v(w(S)),$("#pool-Share-ETH").html("".concat(W)),$("#total-LP-ETH").html("".concat(D)),e.next=124;break;case 123:return e.abrupt("return","error");case 124:e.next=127;break;case 126:return e.abrupt("return","error");case 127:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=t(regeneratorRuntime.mark((function e(){var t,a,r,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,f().catch((function(e){return p(e),"error"}));case 3:if("error"==(t=e.sent)){e.next=39;break}return a=Math.ceil(t),r=Math.round(2*a),$("#global-rate").html("".concat(a,"%")),$("#bonus-global-rate").html("".concat(r,"%")),$("#eth-apy").html("".concat(a/2)),$("#xamp-apy").html("".concat(a)),$("#tob-apy").html("".concat(a)),$("#boa-apy").html("".concat(a)),$("#coin-emission").html("".concat(a)),e.next=16,b().catch((function(e){return p(e),"error"}));case 16:if("error"==(u=e.sent)){e.next=36;break}e.t0=u,e.next=e.t0===n.YFKA_XAMP?21:e.t0===n.YFKA_TOB?25:e.t0===n.YFKA_BOA?29:(e.t0,33);break;case 21:return $("#bonus-global-token").html("XAMP"),$("#xamp-apy").html("".concat(r)),document.getElementById("pool-XAMP").setAttribute("id","bonusPool"),e.abrupt("break",34);case 25:return $("#bonus-global-token").html("TOB"),$("#tob-apy").html("".concat(r)),document.getElementById("pool-TOB").setAttribute("id","bonusPool"),e.abrupt("break",34);case 29:return $("#bonus-global-token").html("BOA"),$("#boa-apy").html("".concat(r)),document.getElementById("pool-BOA").setAttribute("id","bonusPool"),e.abrupt("break",34);case 33:return e.abrupt("break",34);case 34:e.next=37;break;case 36:return e.abrupt("return","error");case 37:e.next=40;break;case 39:return e.abrupt("return","error");case 40:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function P(e,t,n,a){web3.eth.getTransaction(e,(function(r,u){!u||_.isNil(u.blockNumber)||r?setTimeout((function(){P(e,t,n,a)}),5e3):(setTimeout((function(){}),5e3),t.stake(n,a,(function(e,t){document.getElementById("stakeReceipt").innerHTML='<a target="_blank" rel="noreferrer noopener" href="https://etherscan.io/tx/'+t+'">Click here to view your transaction.</a>',document.getElementById("stakeReceipt").style.opacity="1"})))}))}var E=function(){var e=t(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,A();case 3:return n=e.sent,a=n[t.currentTarget.value],$("#stake-input").val(x(a)),$("#stake-balance").html(x(a)),e.abrupt("return",a||"");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=t(regeneratorRuntime.mark((function e(){var t,n,a,r,u,i,s,o,p,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=$("[name=redeem][type=radio]:checked").val(),e.next=4,d();case 4:return n=e.sent,e.next=7,f();case 7:return a=e.sent,"ETH"==t?$("#redeem-coin-emission").html("".concat(a/2)):$("#redeem-coin-emission").html("".concat(a)),r=h(t),u=m(),e.next=14,u.methods.getCurrentReward(r).call({from:n});case 14:return i=e.sent,s=_.toNumber(i),o=w(s/Math.pow(10,18)),$("#redeem-amount").html(o),$("#redeem-amount-button").html(o),e.next=22,u.methods.getPersonalEmissionRate(r,n).call();case 22:p=e.sent,c=_.toNumber(p),(l=T(c))<0&&(l=0),$("#personal-emission").html(l);case 29:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=t(regeneratorRuntime.mark((function e(){var t,n,a,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=$("[name=unstake][type=radio]:checked").val(),e.next=3,d();case 3:return n=e.sent,a=h(t),e.next=7,f();case 7:return r=e.sent,"ETH"==t?$("#unstake-coin-emission").html("".concat(r/2)):$("#unstake-coin-emission").html("".concat(r)),i=(i=web3.eth.contract(o)).at(y(u)),e.next=13,i.stakes(a,n,(function(e,t){var n=_.toNumber(t)/Math.pow(10,18),a=w(n);$("#unstake-input").val("".concat(n)),$("#unstake-input").attr("placeholder","".concat(n)),$("#unstake-balance").html("".concat(a))}));case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();$("input[type=radio][name=stake]").change(E),$("input[type=radio][name=redeem]").change(I),$("input[type=radio][name=unstake]").change(N),$("#stakeBTN").click(t(regeneratorRuntime.mark((function e(){var t,a,r,s,p,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=(t=web3.eth.contract(o)).at(y(u)),a=web3.eth.contract(i),r=Object.keys(n),s=$("[name=stake][type=radio]:checked").val(),e.t0=s,e.next="XAMP"===e.t0?10:"TOB"===e.t0?13:"BOA"===e.t0?16:"ETH"===e.t0?19:22;break;case 10:return p=0,uniInstance=a.at(y(n.YFKA_XAMP)),e.abrupt("break",23);case 13:return p=1,uniInstance=a.at(y(n.YFKA_TOB)),e.abrupt("break",23);case 16:return p=2,uniInstance=a.at(y(n.YFKA_BOA)),e.abrupt("break",23);case 19:return p=3,uniInstance=a.at(y(n.YFKA_ETH)),e.abrupt("break",23);case 22:return e.abrupt("break",23);case 23:if(c=r.map((function(e){return e.indexOf(s)>=0})),c.indexOf(!0),0!==(l=_.toNumber($("#stake-input").val()))&&"0"!==l){e.next=33;break}return e.abrupt("return");case 33:if(window.ethereum){e.next=35;break}return e.abrupt("return");case 35:l*=Math.pow(10,18),uniInstance.approve(y(u),l,(function(e,n){document.getElementById("stakeReceipt").innerHTML="Awaiting approval...",document.getElementById("stakeReceipt").style.opacity="1",P(n,t,p,l)}));case 37:case"end":return e.stop()}}),e)})))),$("#redeemBTN").click(t(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=(t=web3.eth.contract(o)).at(y(u)),n=$("[name=redeem][type=radio]:checked").val(),a=h(n),t.redeem(a,(function(e,t){$("#redeemReceipt").html('<a target="_blank" rel="noreferrer noopener" href="https://etherscan.io/tx/'+t+'">Redeem Receipt</a>');var n=document.getElementById("redeemReceipt");n&&n.style&&(document.getElementById("redeemReceipt").style.opacity="1")}));case 6:case"end":return e.stop()}}),e)})))),$("#unstakeBTN").click(t(regeneratorRuntime.mark((function e(){var t,n,a,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=(t=web3.eth.contract(o)).at(y(u)),n=$("[name=unstake][type=radio]:checked").val(),a=h(n),r=$("#unstake-input").val(),r=_.toNumber(r)*Math.pow(10,18),t.unstake(a,r,(function(e,t){$("#unstakeReceipt").html('<a target="_blank" rel="noreferrer noopener" href="https://etherscan.io/tx/'+t+'">Unstake Receipt</a>');var n=document.getElementById("unstakeReceipt");n&&n.style&&(document.getElementById("unstakeReceipt").style.opacity="1")}));case 8:case"end":return e.stop()}}),e)})))),$("#connectToMetamask").click(t(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.web3.currentProvider.enable().catch((function(e){return p(e),"error"}));case 2:"error"!=e.sent&&setTimeout((function(){M()}),100);case 4:case"end":return e.stop()}}),e)})))),window.addEventListener("load",function(){var e=t(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){screen.width<480||screen.height}),100),web3.eth.getAccounts(function(){var e=t(regeneratorRuntime.mark((function e(t,n){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null==t){e.next=5;break}console.error("An error occurred: "+t),e.next=28;break;case 5:if(0!=n.length){e.next=11;break}return e.next=9,(void R()).catch((function(e){p(e)}));case 9:e.next=28;break;case 11:return console.log("User is logged in to MetaMask"),e.next=15,R().catch((function(e){p(e)}));case 15:if("error"==e.sent){e.next=20;break}return e.next=19,B().catch((function(e){p(e)}));case 19:a=e.sent;case 20:if("error"==a){e.next=28;break}return e.next=23,E({currentTarget:{value:"XAMP"}}).catch((function(e){p(e)}));case 23:return e.next=25,I({currentTarget:{value:"XAMP"}}).catch((function(e){p(e)}));case 25:return e.next=27,N({currentTarget:{value:"XAMP"}}).catch((function(e){p(e)}));case 27:$("#isConnected").html("wallet connected");case 28:e.next=33;break;case 30:e.prev=30,e.t0=e.catch(0),p(e.t0);case 33:case"end":return e.stop()}}),e,null,[[0,30]])})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})();